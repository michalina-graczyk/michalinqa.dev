---
import { Icon } from "astro-icon/components";

export interface Props {
  socials?: { name: string; url: string; icon: string }[];
}

const { socials } = Astro.props;

const formatSocialName = (name: string): string => {
  const nameMap: Record<string, string> = {
    github: "GitHub",
    linkedin: "LinkedIn",
    instagram: "Instagram",
    x: "X (Twitter)",
  };
  return nameMap[name] || name.charAt(0).toUpperCase() + name.slice(1);
};
---

{
  socials && (
    <div class="flex flex-row gap-8 lg:gap-20">
      {socials.map((social) => (
        <a
          href={social.url}
          target="_blank"
          rel="noopener"
          aria-label={`Odwiedź mój profil na ${formatSocialName(social.name)}`}
          onclick={`window.mixpanel.track('Social media button clicked', { 'Name': '${social.name}' })`}
        >
          <Icon
            class="h-8 hover:text-orange dark:hover:text-orange md:h-12"
            name={social.icon}
            size={48}
          />
        </a>
      ))}
    </div>
  )
}
