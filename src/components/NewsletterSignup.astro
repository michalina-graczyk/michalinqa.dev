---
// src/components/NewsletterSignup.astro
const { isMini = false } = Astro.props;
---

<section class={`${isMini ? 'mt-8' : 'mt-16'} p-8 bg-gray-50 dark:bg-gray-900/50 rounded-2xl border border-gray-200 dark:border-gray-800`}>
  <div class="max-w-2xl mx-auto text-center">
    <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100 mb-3">
      Miej oko na nowoÅ›ci z LLM i QA! ğŸš€
    </h2>
    <p class="text-gray-600 dark:text-gray-400 mb-8">
      Praktycznie o testowaniu, procesach QA i nowoczesnej strategii jakoÅ›ci. Bez lania wody â€“ dla testerÃ³w i liderÃ³w, ktÃ³rzy chcÄ… â€umieÄ‡ w jakoÅ›Ä‡â€.
    </p>

    <form
      action="https://buttondown.com/api/emails/embed-subscribe/michalina"
      method="post"
      target="popupwindow"
      class="flex flex-col sm:flex-row gap-3"
    >
      <label for="bd-email" class="sr-only">Adres e-mail</label>
      <input
        type="email"
        name="email"
        id="bd-email"
        placeholder="TwÃ³j e-mail..."
        required
        class="flex-1 px-4 py-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-orange outline-none transition-all"
      />
      <input type="hidden" value="1" name="embed" />
      <button
        type="submit"
        class="px-6 py-3 bg-orange text-white font-bold rounded-xl hover:opacity-90 active:scale-95 transition-all cursor-pointer"
      >
        ZapisujÄ™ siÄ™!
      </button>
    </form>
    
    <p class="mt-4 text-xs text-gray-500 dark:text-gray-500">
      DoÅ‚Ä…czajÄ…c, zgadzasz siÄ™ na otrzymywanie newsÃ³w ode mnie. MoÅ¼esz siÄ™ wypisaÄ‡ w kaÅ¼dej chwili.
    </p>
  </div>
</section>

<script>
  import { trackClick, TrackingEvents } from "@lib/tracking";
  trackClick('button[type="submit"]', TrackingEvents.NEWSLETTER_SIGNUP_CLICKED);
</script>
