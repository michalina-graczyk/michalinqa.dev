---
import Button from "@components/ui/Button.astro";
import Social from "@components/ui/Social.astro";
import SectionTitle from "@components/ui/SectionTitle.astro";
import { calendlyURL, emailAddress } from "@config/contact";

const onMeetingClick = `Calendly.initPopupWidget({url: '${calendlyURL}'}); window.mixpanel.track('Contact by Calendly button clicked'); return false;`;
const onEmailClick = "window.mixpanel.track('Contact by mail button clicked');";

const socials = [
  {
    name: "github",
    url: "https://github.com/michalina-graczyk",
    icon: "simple-icons:github",
  },
  {
    name: "linkedin",
    url: "https://www.linkedin.com/in/michalina-graczyk/",
    icon: "simple-icons:linkedin",
  },
  {
    name: "x",
    url: "https://x.com/MichalinQA",
    icon: "simple-icons:x",
  },
];
---

<section
  data-testid="contact"
  id="contact"
  class="flex flex-col flex-wrap items-center justify-center gap-8 text-black dark:text-white lg:mb-0 lg:h-screen"
>
  <SectionTitle>Kontakt</SectionTitle>
  <div class="flex gap-4">
    <Button
      size={"lg"}
      style={"secondary"}
      name="E-mail"
      href={emailAddress}
      onclick={onEmailClick}
    >
      Napisz maila
    </Button>
    <Button
      size={"lg"}
      style={"primary"}
      name="Meeting"
      onclick={onMeetingClick}>Um√≥w spotkanie</Button
    >
  </div>
  <hr class="w-1/2" />
  <Social socials={socials} />
</section>
